//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool
//     Changes to this file will be lost if the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using EntryInformation;
using System.Drawing;


public class Simulator
{
    private Grid grid;
    private Simulation simulation;

    public Simulator(Simulation simulation)
    {
        grid = new Grid();
        this.simulation = simulation;
    }

    public void calculatePanelSize(int nrOfRows, int nrOfColumns, Panel gridPanel, GroupBox gridGroupBox)
    {
        
        int height = nrOfRows * 200;
        int width = nrOfColumns * 200;

        gridPanel.Size = new Size(width, height);
        gridGroupBox.Size = new Size(width + 10, height + 30);
    }

	public void DrawGrid(ComboBox comboBox1, ComboBox comboBox2, Panel gridPanel, GroupBox gridGroupBox)
    {
        calculatePanelSize(Convert.ToInt16(comboBox1.SelectedItem), Convert.ToInt16(comboBox2.SelectedItem),gridPanel, gridGroupBox);
        System.Drawing.Pen myPen;
        myPen = new System.Drawing.Pen(System.Drawing.Color.Black);
        System.Drawing.Graphics formGraphics = gridPanel.CreateGraphics();

        int i2 = 200;

        //drawing rows
        for (int i = 0; i < Convert.ToInt16(comboBox1.SelectedItem) ; i++)
        {
            formGraphics.DrawLine(myPen, 0, i2, gridPanel.Width, i2);
            i2 += 200;
        }

        i2 = 200;
        //drawing columns
        for (int i = 0; i < Convert.ToInt16(comboBox2.SelectedItem) ; i++)
        {
            formGraphics.DrawLine(myPen, i2, 0, i2, gridPanel.Height);
            i2 += 200;
        }

        //formGraphics.DrawLine(myPen, 0, 125, 660, 125);
        //formGraphics.DrawLine(myPen, 0, 250, 660, 250);
        //formGraphics.DrawLine(myPen, 0, 375, 660, 375);

        //formGraphics.DrawLine(myPen, 220, 0, 220, 520);
        //formGraphics.DrawLine(myPen, 440, 0, 440, 520);
        ////formGraphics.DrawLine(myPen, 0, 375, 660, 375);
        myPen.Dispose();
        formGraphics.Dispose();
    }

	public List<Crossing> crossings
	{
		get;
		set;
	}

	public  DateTime Time
	{
		get;
		set;
	}

	public virtual List <Cars> CarsList
	{
		get;
		set;
	}

	public virtual Grid Grid
	{
		get;
		set;
	}

	public virtual Form Form
	{
		get;
		set;
	}

	public virtual IEnumerable<Cars> Cars
	{
		get;
		set;
	}

	public virtual void Run()
	{
		throw new System.NotImplementedException();
	}

	public virtual void Save()
	{
		throw new System.NotImplementedException();
	}

}

